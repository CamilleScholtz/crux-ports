# Description: An open source reference implementation of the icalendar data type and serialization format.
# URL:         https://libical.github.io/libical/
# Maintainer:  onodera, https://github.com/onodera-punpun/crux-ports/issues
# Depends on:  cmake ninja glib icu

name=libical
version=3.0.5
release=1
source=(https://github.com/$name/$name/releases/download/v$version/$name-$version.tar.gz)

build() {
	cd $name-$version

	cmake . \
		-G Ninja \
		-DCMAKE_BUILD_TYPE=Release \
		-DSHARED_ONLY=true \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=/usr/lib \
		-DENABLE_GTK_DOC=OFF

	DESTDIR=$PKG ninja -j ${JOBS:-1} install
}
